{"ast":null,"code":"import _slicedToArray from\"/Users/justin/Desktop/MEng Repos/ENSF 614/movie-ticket-system/react-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Nav from\"react-bootstrap/Nav\";import Navbar from\"react-bootstrap/Navbar\";import{LinkContainer}from\"react-router-bootstrap\";import Routes from\"./Routes\";import{AppContext}from\"./lib/contextLib\";import{useNavigate}from\"react-router-dom\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var nav=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isAuthenticated=_useState2[0],userHasAuthenticated=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAdmin=_useState4[0],adminAuth=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isuserType=_useState6[0],userType=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isnotPaid=_useState8[0],notPaid=_useState8[1];function handleLogout(){userHasAuthenticated(false);nav(\"/movie-ticket-system/\");}useEffect(function(){fetch(\"http://localhost:8080/api/v1/payment/annualPayment\");},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App container py-3\",children:[/*#__PURE__*/_jsxs(Navbar,{collapseOnSelect:true,bg:\"light\",expand:\"md\",className:\"mb-3\",children:[isAuthenticated?isAdmin?/*#__PURE__*/_jsx(Navbar.Brand,{className:\"font-weight-bold text-muted\",children:\"Movie Ticket System\"}):isnotPaid?/*#__PURE__*/_jsx(LinkContainer,{to:\"/movie-ticket-system/annualfee\",children:/*#__PURE__*/_jsx(Navbar.Brand,{className:\"font-weight-bold text-muted\",children:\"Movie Ticket System\"})}):/*#__PURE__*/_jsx(LinkContainer,{to:\"/movie-ticket-system/theatres\",children:/*#__PURE__*/_jsx(Navbar.Brand,{className:\"font-weight-bold text-muted\",children:\"Movie Ticket System\"})}):/*#__PURE__*/_jsx(Navbar.Brand,{className:\"font-weight-bold text-muted\",children:\"Movie Ticket System\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{}),/*#__PURE__*/_jsx(Navbar.Collapse,{className:\"justify-content-end\",children:/*#__PURE__*/_jsx(Nav,{activeKey:window.location.pathname,children:isAuthenticated?isAdmin?/*#__PURE__*/_jsx(Nav.Link,{onClick:handleLogout,children:\"Logout\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/movie-ticket-system/account\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Account\"})}),/*#__PURE__*/_jsx(Nav.Link,{onClick:handleLogout,children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/movie-ticket-system/signup\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Sign Up\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/movie-ticket-system/\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Login\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/movie-ticket-system/adminLogin\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Admin Login\"})})]})})})]}),/*#__PURE__*/_jsx(AppContext.Provider,{value:{isAuthenticated:isAuthenticated,userHasAuthenticated:userHasAuthenticated,isuserType:isuserType,userType:userType,isAdmin:isAdmin,adminAuth:adminAuth,isnotPaid:isnotPaid,notPaid:notPaid},children:/*#__PURE__*/_jsx(Routes,{})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Nav","Navbar","LinkContainer","Routes","AppContext","useNavigate","App","nav","isAuthenticated","userHasAuthenticated","isAdmin","adminAuth","isuserType","userType","isnotPaid","notPaid","handleLogout","fetch","window","location","pathname"],"sources":["/Users/justin/Desktop/MEng Repos/ENSF 614/movie-ticket-system/react-frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport { AppContext } from \"./lib/contextLib\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const nav = useNavigate();\n  const [isAuthenticated, userHasAuthenticated] = useState(false);\n  const [isAdmin, adminAuth] = useState(false);\n  const [isuserType, userType] = useState(false);\n  const [isnotPaid, notPaid] = useState(false);\n\n  function handleLogout() {\n    userHasAuthenticated(false);\n    nav(\"/movie-ticket-system/\");\n  }\n\n  useEffect(()=>{\n\t\tfetch(\"http://localhost:8080/api/v1/payment/annualPayment\")\n  }, []);\n\n  return (\n    <div className=\"App container py-3\">\n      <Navbar collapseOnSelect bg=\"light\" expand=\"md\" className=\"mb-3\">\n        {isAuthenticated ? (\n          isAdmin ? (\n            <Navbar.Brand className=\"font-weight-bold text-muted\">\n              Movie Ticket System\n            </Navbar.Brand>\n          ) : ( isnotPaid ? (\n              <LinkContainer to=\"/movie-ticket-system/annualfee\">\n              <Navbar.Brand className=\"font-weight-bold text-muted\">\n                Movie Ticket System\n              </Navbar.Brand>\n            </LinkContainer>\n          ) : (\n            <LinkContainer to=\"/movie-ticket-system/theatres\">\n              <Navbar.Brand className=\"font-weight-bold text-muted\">\n                Movie Ticket System\n              </Navbar.Brand>\n            </LinkContainer>\n          )\n          )\n          ) : (\n            <Navbar.Brand className=\"font-weight-bold text-muted\">\n              Movie Ticket System\n            </Navbar.Brand>\n          )}\n          \n        <Navbar.Toggle />\n        <Navbar.Collapse className=\"justify-content-end\">\n          <Nav activeKey={window.location.pathname}>\n          {isAuthenticated ? ( \n            isAdmin ? (\n              <Nav.Link onClick={handleLogout}>Logout</Nav.Link>\n            ) : ( \n              <>\n                <LinkContainer to=\"/movie-ticket-system/account\">\n                  <Nav.Link>Account</Nav.Link>\n                </LinkContainer>\n                <Nav.Link onClick={handleLogout}>Logout</Nav.Link>\n              </>\n            )\n          ) : (\n            <>\n              <LinkContainer to=\"/movie-ticket-system/signup\">\n                <Nav.Link>Sign Up</Nav.Link>\n              </LinkContainer>\n              <LinkContainer to=\"/movie-ticket-system/\">\n                <Nav.Link>Login</Nav.Link>\n              </LinkContainer>\n              <LinkContainer to=\"/movie-ticket-system/adminLogin\">\n                <Nav.Link>Admin Login</Nav.Link>\n              </LinkContainer>\n            </>\n          )}\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <AppContext.Provider value={{ isAuthenticated, userHasAuthenticated, \n                                    isuserType, userType, isAdmin, adminAuth,\n                                    isnotPaid, notPaid}}>\n        <Routes />\n      </AppContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}