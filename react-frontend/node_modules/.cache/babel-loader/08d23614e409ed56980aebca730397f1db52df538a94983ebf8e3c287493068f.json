{"ast":null,"code":"import _slicedToArray from\"/Users/justin/Desktop/MEng Repos/ENSF 614/movie-ticket-system/react-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import Box from'@mui/material/Box';import TextField from'@mui/material/TextField';import Container from'@mui/material/Container';import Paper from'@mui/material/Paper';import Button from'@mui/material/Button';import{useState,useEffect}from'react';import{theatreSelected}from\"./Theatres.js\";import{movieSelected}from\"./Movies.js\";import{stSelected}from\"./Showtimes.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Payment(){var paperStyle={padding:'50px 20px',width:600,margin:'20px auto'};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isError=_useState2[0],setIsError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSubmitted=_useState4[0],setIsSubmitted=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),cardNo=_useState6[0],setCardNo=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),expiry=_useState8[0],setExpiry=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),cvv=_useState10[0],setCvv=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),name=_useState12[0],setName=_useState12[1];var handleClick=function handleClick(e){e.preventDefault();var creditCard={cardNo:cardNo,expiry:expiry,cvv:cvv,name:name};console.log(creditCard);// TODO: send data to database\nfetch(\"http://localhost:8080/api/v1/payment\",{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(creditCard)}).then(function(){console.log(\"Payment Successful\");setIsSubmitted(true);setIsError(false);}).catch(function(){console.log(\"Error\");setIsError(true);setIsSubmitted(false);});};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Paper,{elevation:3,style:paperStyle,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Ticket\"}),/*#__PURE__*/_jsxs(Paper,{elevation:6,style:{margin:\"10px\",padding:\"15px\",textAlign:\"left\"},children:[\"Theatre:\",theatreSelected.name,\", Movie:\",movieSelected.name,\", Showtime:\",stSelected.showtime]})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,style:paperStyle,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Payment\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your total is $8.00\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",sx:{'& > :not(style)':{m:1,width:500,maxWidth:'100%'}},noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(TextField,{required:true,id:\"outlined-required\",label:\"Credit Card Number\",variant:\"outlined\",fullWidth:true,value:cardNo,onChange:function onChange(e){return setCardNo(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"outlined-required\",label:\"Expiry Date (MM/YY)\",variant:\"outlined\",fullWidth:true,value:expiry,onChange:function onChange(e){return setExpiry(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"outlined-required\",label:\"CVV\",variant:\"outlined\",fullWidth:true,value:cvv,onChange:function onChange(e){return setCvv(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"outlined-required\",label:\"Cardholder Name\",variant:\"outlined\",fullWidth:true,value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClick,children:\"Submit\"})]})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,style:paperStyle,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Response\"}),isSubmitted?/*#__PURE__*/_jsx(\"div\",{children:\"Payment Successful! Please check your email.\"}):/*#__PURE__*/_jsx(\"div\",{}),isError?/*#__PURE__*/_jsx(\"div\",{children:\"Error. Please try again.\"}):/*#__PURE__*/_jsx(\"div\",{})]})]});}","map":{"version":3,"names":["React","Box","TextField","Container","Paper","Button","useState","useEffect","theatreSelected","movieSelected","stSelected","Payment","paperStyle","padding","width","margin","isError","setIsError","isSubmitted","setIsSubmitted","cardNo","setCardNo","expiry","setExpiry","cvv","setCvv","name","setName","handleClick","e","preventDefault","creditCard","console","log","fetch","method","headers","body","JSON","stringify","then","catch","textAlign","showtime","m","maxWidth","target","value"],"sources":["/Users/justin/Desktop/MEng Repos/ENSF 614/movie-ticket-system/react-frontend/src/containers/Payment.js"],"sourcesContent":["import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Container from '@mui/material/Container'\nimport Paper from '@mui/material/Paper'\nimport Button from '@mui/material/Button'\nimport { useState, useEffect } from 'react';\nimport { theatreSelected } from \"./Theatres.js\";\nimport { movieSelected } from \"./Movies.js\";\nimport { stSelected } from \"./Showtimes.js\";\n\nexport default function Payment() {\n  const paperStyle = {padding:'50px 20px', width:600, margin:'20px auto'}\n  const [isError, setIsError] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [cardNo,setCardNo] = useState('')\n  const [expiry,setExpiry] = useState('')\n  const [cvv,setCvv] = useState('')\n  const [name,setName] = useState('')\n\n  const handleClick=(e)=>{\n    e.preventDefault()\n    const creditCard={cardNo, expiry, cvv, name}\n    console.log(creditCard)\n    // TODO: send data to database\n    fetch(\"http://localhost:8080/api/v1/payment\", \n    {\n      method:\"PUT\",\n      headers:{\"Content-Type\":\"application/json\"},\n      body:JSON.stringify(creditCard)\n    }).then(()=>{\n      console.log(\"Payment Successful\")\n      setIsSubmitted(true);\n      setIsError(false);\n    }).catch(()=>{\n      console.log(\"Error\")\n      setIsError(true);\n      setIsSubmitted(false);\n    })\n  }\n\n  return (\n    <Container>\n      <Paper elevation={3} style={paperStyle}>\n      <h1>Ticket</h1>\n        \n          <Paper elevation={6} style={{margin:\"10px\",padding:\"15px\",textAlign:\"left\"}}>\n            Theatre:{theatreSelected.name},\n            Movie:{movieSelected.name},\n            Showtime:{stSelected.showtime}\n          </Paper>\n      \n      </Paper>\n\n      <Paper elevation={3} style={paperStyle}>\n        <h1>Payment</h1>\n        <p>Your total is $8.00</p>\n\n    <Box\n      component=\"form\"\n      sx={{\n        '& > :not(style)': { m: 1, width: 500, maxWidth: '100%' },\n      }}\n      noValidate\n      autoComplete=\"off\"\n    >\n      <TextField required id=\"outlined-required\" label=\"Credit Card Number\" variant=\"outlined\" fullWidth\n      value = {cardNo}\n      onChange={(e)=>setCardNo(e.target.value)}\n      />\n      <TextField required id=\"outlined-required\" label=\"Expiry Date (MM/YY)\" variant=\"outlined\" fullWidth\n      value = {expiry}\n      onChange={(e)=>setExpiry(e.target.value)}\n      />\n      <TextField required id=\"outlined-required\" label=\"CVV\" variant=\"outlined\" fullWidth\n      value = {cvv}\n      onChange={(e)=>setCvv(e.target.value)}\n      />\n      <TextField required id=\"outlined-required\" label=\"Cardholder Name\" variant=\"outlined\" fullWidth\n      value = {name}\n      onChange={(e)=>setName(e.target.value)}\n      />\n      \n      <Button variant=\"contained\" onClick={handleClick}>\n        Submit\n      </Button>\n    </Box>\n    </Paper>\n\n      <Paper elevation={3} style={paperStyle}>\n        <h1>Response</h1>\n        {isSubmitted ? <div>Payment Successful! Please check your email.</div> : \n                        <div></div>}\n        {isError ? <div>Error. Please try again.</div> : \n                        <div></div>}\n      </Paper>\n    </Container>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}