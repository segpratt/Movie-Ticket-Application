{"ast":null,"code":"import _slicedToArray from\"/Users/justin/Desktop/MEng Repos/ENSF 614/movie-ticket-system/react-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import Box from\"@mui/material/Box\";import TextField from\"@mui/material/TextField\";import Container from\"@mui/material/Container\";import Paper from\"@mui/material/Paper\";import Button from\"@mui/material/Button\";import{useState,useEffect}from\"react\";import{theatreSelected}from\"./Theatres.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchMovie(){var paperStyle={padding:\"50px 20px\",width:600,margin:\"20px auto\"};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isError=_useState2[0],setIsError=_useState2[1];// const [isSubmitted, setIsSubmitted] = useState(false);\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),movie=_useState6[0],setMovie=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),courses=_useState8[0],setCourses=_useState8[1];var handleClick=function handleClick(e){e.preventDefault();var s={id:id};// console.log(s);\nconsole.log(id);// TODO: send data to database\nfetch(\"http://localhost:8080/api/v1/theatres/\"+theatreSelected.tId+\"/movies/\"+id,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(data){// setIsSubmitted(true);\n// setCourses(null);\nsetIsError(false);setMovie(data);}).catch(function(){console.log(\"Error\");setIsError(true);// setIsSubmitted(false);\n});};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Paper,{elevation:3,style:paperStyle,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Search Movie\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Search a movie from the database\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",sx:{\"& > :not(style)\":{m:1,width:500,maxWidth:\"100%\"}},noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(TextField,{required:true,id:\"outlined-required\",label:\"Movie Name\",variant:\"outlined\",fullWidth:true,value:id,onChange:function onChange(e){return setId(e.target.value);}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClick,children:\"Search\"})]})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,style:paperStyle,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Response\"}),movie?/*#__PURE__*/_jsxs(\"div\",{children:[\"ID:\",movie.mId,\", Name:\",movie.name,\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Release Date:\",movie.releaseDate]}):/*#__PURE__*/_jsx(\"div\",{}),isError?/*#__PURE__*/_jsx(\"div\",{children:\"Error. Please try again.\"}):/*#__PURE__*/_jsx(\"div\",{})]})]});}","map":{"version":3,"names":["React","Box","TextField","Container","Paper","Button","useState","useEffect","theatreSelected","SearchMovie","paperStyle","padding","width","margin","isError","setIsError","id","setId","movie","setMovie","courses","setCourses","handleClick","e","preventDefault","s","console","log","fetch","tId","method","headers","then","response","json","data","catch","m","maxWidth","target","value","mId","name","releaseDate"],"sources":["/Users/justin/Desktop/MEng Repos/ENSF 614/movie-ticket-system/react-frontend/src/containers/SearchMovie.js"],"sourcesContent":["import * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport Button from \"@mui/material/Button\";\nimport { useState, useEffect } from \"react\";\nimport { theatreSelected } from \"./Theatres.js\";\n\nexport default function SearchMovie() {\n\tconst paperStyle = {\n\t\tpadding: \"50px 20px\",\n\t\twidth: 600,\n\t\tmargin: \"20px auto\",\n\t};\n\tconst [isError, setIsError] = useState(false);\n\t// const [isSubmitted, setIsSubmitted] = useState(false);\n\tconst [id, setId] = useState(\"\");\n\tconst [movie, setMovie] = useState();\n\tconst [courses, setCourses] = useState();\n\n\tconst handleClick = (e) => {\n\t\te.preventDefault();\n\t\tconst s = { id };\n\t\t// console.log(s);\n\t\tconsole.log(id);\n\t\t// TODO: send data to database\n\t\tfetch(\"http://localhost:8080/api/v1/theatres/\"+theatreSelected.tId+\"/movies/\"+id, {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\t// setIsSubmitted(true);\n\t\t\t\t// setCourses(null);\n\t\t\t\tsetIsError(false);\n\t\t\t\tsetMovie(data);\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tconsole.log(\"Error\");\n\t\t\t\tsetIsError(true);\n\t\t\t\t// setIsSubmitted(false);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<Paper elevation={3} style={paperStyle}>\n\t\t\t\t<h1>Search Movie</h1>\n\t\t\t\t<p>Search a movie from the database</p>\n\n\t\t\t\t<Box\n\t\t\t\t\tcomponent=\"form\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\t\"& > :not(style)\": {\n\t\t\t\t\t\t\tm: 1,\n\t\t\t\t\t\t\twidth: 500,\n\t\t\t\t\t\t\tmaxWidth: \"100%\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\tnoValidate\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tid=\"outlined-required\"\n\t\t\t\t\t\tlabel=\"Movie Name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\tonChange={(e) => setId(e.target.value)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleClick}>\n\t\t\t\t\t\tSearch\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Paper>\n\t\t\t<Paper elevation={3} style={paperStyle}>\n\t\t\t\t<h1>Response</h1>\n\t\t\t\t{movie ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\tID:{movie.mId},\n            \t\t\tName:{movie.name} <br></br>\n            \t\t\tRelease Date:{movie.releaseDate}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div></div>\n\t\t\t\t)}\n\t\t\t\t{isError ? <div>Error. Please try again.</div> : <div></div>}\n\t\t\t</Paper>\n\t\t</Container>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}